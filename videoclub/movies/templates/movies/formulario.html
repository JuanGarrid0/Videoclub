{% extends "movies/layout.html" %}


{% block body %}
    <div id="formulario">
        <h2><strong>Alquila peliculas</strong></h2>
        <form id = "datos" action="form.php" method="post">
            <!-- Si esta con su usuario se rellenan automaticamente -->
            <legend><strong>Datos del cliente</strong></legend>
            <label for="nombre">Nombre: </label>
            <input type="text" name="nombre" id = "nombre"><br>
            <br>

            <label for="apellido">Apellido: </label>
            <input type="text" name="apellido" id = "apellido"><br>
            <br>

            <label for="email">Email: </label>
            <input type="text" name="email" id="email"><br>
            <br>
        </form>
    
        <form action="/submit" method="post">
            <legend><strong>Fecha de recogida</strong></legend>
            <input type="date" id="fecha" name="fecha" required>
        </form>
        <!-- Si seleccionas una peli las otras ya no se pueden seleccionar -->
        <form>
            <legend><strong>Peliculas por genero</strong></legend>
            <label for="accion">Accion</label>
            <select id="accion" name="accion">
                <option disabled selected>Selecciona una opción</option>
                <option value="none">Anular selección</option>
                <option>Pulp Fiction</option>
                <option>Ready Player One</option>
            </select>
            <label for="historica">Historica</label>
            <select id="historica" name="historica">
                <option disabled selected>Selecciona una opción</option>
                <option value="none">Anular selección</option>
                <option>La lista de Schindler</option>
            </select>
            <label for="animacion">Animacion</label>
            <select id="animacion" name="animacion">
                <option disabled selected>Selecciona una opción</option>
                <option value="none">Anular selección</option>
                <option>Bambi</option>
            </select>
            <label for="drama">Drama</label>
            <select id="drama" name="drama">
                <option disabled selected>Selecciona una opción</option>
                <option value="none">Anular selección</option>
                <option>Million Dollar Baby</option>
                <option>Seven</option>
                <option>Mindhunter</option>
                <option>House of Cards</option>
                <option>Gran Torino</option>
            </select>
            <label for="thriller">Thriller</label>
            <select id="thriller" name="thriller">
                <option disabled selected>Selecciona una opción</option>
                <option value="none">Anular selección</option>
                <option>Fight Club</option>
                <option>Zodiac</option>
            </select>
        </form>
        <!-- Comentarios -->
        <form>
            <legend><strong>Comentario o recomendación</strong></legend>
            <br>
            <textarea id="comentarios" name="textarea" rows="5" cols="50"></textarea>
        </form>
        </form>
        <!-- Javascript con comentarios para entender lo que hace el codigo -->
        <script>
            const selects = document.querySelectorAll('select');
        
            selects.forEach(select => {
                select.addEventListener('change', () => {
                    // Si el usuario selecciona "Anular selección"
                    if (select.value === "none") {
                        // Reactivar todos los selects
                        selects.forEach(s => {
                            s.disabled = false;
                            s.selectedIndex = 0; // Restablece la selección
                        });
                    } else if (select.selectedIndex > 1) {
                        // Si selecciona una opción válida diferente a "Selecciona una opción" o "Anular selección"
                        selects.forEach(s => {
                            if (s !== select) {
                                s.disabled = true;
                            }
                        });
                    }
                });
            });
        </script>
        
        <div id="form-group">
            <label for="aceptar">Acepto las condiciones</label>
            <input id="aceptar" type="checkbox" name="aceptar" value="a">
        </div>
        
        <div id="form-group">
            <input id="enviar" type="submit" value="Enviar">
        </div>
        
   
{%endblock%}