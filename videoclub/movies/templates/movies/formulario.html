{% extends "movies/layout.html" %}


{% block body %}
    <div id="formulario">
        <h2><strong>Alquila peliculas</strong></h2>
        <form id = "datos" action="form.php" method="post">
            <!-- Si esta con su usuario se rellenan automaticamente -->
            <legend><strong>Datos del cliente</strong></legend>
            <label for="nombre">Nombre: </label>
            <input type="text" name="nombre" id = "nombre"><br>
            <br>

            <label for="apellido">Apellido: </label>
            <input type="text" name="apellido" id = "apellido"><br>
            <br>

            <label for="email">Email: </label>
            <input type="text" name="email" id="email"><br>
            <br>
        </form>
    
        <form action="/submit" method="post">
            <legend><strong>Fecha de recogida</strong></legend>
            <input type="date" id="fecha" name="fecha" required>
        </form>
        <!-- Si seleccionas una peli las otras ya no se pueden seleccionar -->
        <form>
            <legend><strong>Peliculas por genero</strong></legend>
            <label for="perros">Accion</label>
            <select id="perros" name="perros">
                <option disabled selected>Selecciona una opción</option>
                <option value="none">Anular selección</option>
                <option>Pulp Fiction</option>
                <option>Ready Player One</option>
            </select>
            <label for="gatos">Gatos:</label>
            <select id="gatos" name="gatos">
                <option disabled selected>Selecciona una opción</option>
                <option value="none">Anular selección</option>
                <option>Común</option>
                <option>Persa</option>
                <option>Siames</option>
            </select>
        </form>
        <!-- Javascript con comentarios para entender lo que hace el codigo -->
        <script>
            const selects = document.querySelectorAll('select');
        
            selects.forEach(select => {
                select.addEventListener('change', () => {
                    // Si el usuario selecciona "Anular selección"
                    if (select.value === "none") {
                        // Reactivar todos los selects
                        selects.forEach(s => {
                            s.disabled = false;
                            s.selectedIndex = 0; // Restablece la selección
                        });
                    } else if (select.selectedIndex > 1) {
                        // Si selecciona una opción válida diferente a "Selecciona una opción" o "Anular selección"
                        selects.forEach(s => {
                            if (s !== select) {
                                s.disabled = true;
                            }
                        });
                    }
                });
            });
        </script>
        
        <fieldset>
            <label for="comentarios">Comentario o recomendación sobre nuestros productos del catálogo:</label>
            <br>
            <textarea id="comentarios" name="textarea" rows="5" cols="50"></textarea>
        </fieldset>
        
        <div class="form-group">
            <label for="aceptar">Acepto las condiciones</label>
            <input id="aceptar" type="checkbox" name="aceptar" value="a">
        </div>
        
        <div class="form-group">
            <input id="enviar" type="submit" value="Enviar">
        </div>
        
   
{%endblock%}